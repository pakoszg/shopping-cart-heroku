{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst useFetch = () => {\n  _s();\n\n  const [webshopItemz, setWebshopItemz] = useState([]);\n  const [bearerToken, setBearerToken] = useState(null);\n\n  const getBearerToken = () => {\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: {\n        identifier: \"Geri\",\n        password: \"C3jk74xsd9p\"\n      }\n    };\n    fetch(\"http://localhost:1337/auth/local\", requestOptions).then(response => response.json()).then(data => setBearerToken(data.jwt));\n    console.log(\"post request sent\");\n  };\n\n  useEffect(() => {\n    getBearerToken();\n    fetch(\"http://localhost:1337/products\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authentication: `Bearer ${bearerToken}`\n      }\n    }).then(response => response.json()).then(data => {\n      setWebshopItemz(data);\n    });\n    console.log(\"webshopitems updated\");\n  }, []);\n  return {\n    webshopItemz\n  };\n};\n\n_s(useFetch, \"g+bkgsvPo2+niPnL2P1MujVPBH8=\");\n\nexport default useFetch;","map":{"version":3,"sources":["/Users/pg/code/codingpractice/strapi/shopping-cart/frontend/src/components/useFetch.js"],"names":["useEffect","useState","axios","useFetch","webshopItemz","setWebshopItemz","bearerToken","setBearerToken","getBearerToken","requestOptions","method","headers","body","identifier","password","fetch","then","response","json","data","jwt","console","log","Authentication"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACrB,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCJ,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,IAAD,CAA9C;;AAEA,QAAMO,cAAc,GAAG,MAAM;AAC3B,UAAMC,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFY;AAGrBC,MAAAA,IAAI,EAAE;AACJC,QAAAA,UAAU,EAAE,MADR;AAEJC,QAAAA,QAAQ,EAAE;AAFN;AAHe,KAAvB;AAQAC,IAAAA,KAAK,CAAC,kCAAD,EAAqCN,cAArC,CAAL,CACGO,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESG,IAAD,IAAUZ,cAAc,CAACY,IAAI,CAACC,GAAN,CAFhC;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,GAbD;;AAeAtB,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,cAAc;AACdO,IAAAA,KAAK,CAAC,gCAAD,EAAmC;AACtCL,MAAAA,MAAM,EAAE,KAD8B;AAEtCC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPY,QAAAA,cAAc,EAAG,UAASjB,WAAY;AAF/B;AAF6B,KAAnC,CAAL,CAOGU,IAPH,CAOSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAPtB,EAQGF,IARH,CAQSG,IAAD,IAAU;AACdd,MAAAA,eAAe,CAACc,IAAD,CAAf;AACD,KAVH;AAWAE,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,GAdQ,EAcN,EAdM,CAAT;AAgBA,SAAO;AAAElB,IAAAA;AAAF,GAAP;AACD,CApCD;;GAAMD,Q;;AAsCN,eAAeA,QAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst useFetch = () => {\n  const [webshopItemz, setWebshopItemz] = useState([]);\n  const [bearerToken, setBearerToken] = useState(null);\n\n  const getBearerToken = () => {\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: {\n        identifier: \"Geri\",\n        password: \"C3jk74xsd9p\",\n      },\n    };\n    fetch(\"http://localhost:1337/auth/local\", requestOptions)\n      .then((response) => response.json())\n      .then((data) => setBearerToken(data.jwt));\n    console.log(\"post request sent\");\n  };\n\n  useEffect(() => {\n    getBearerToken();\n    fetch(\"http://localhost:1337/products\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authentication: `Bearer ${bearerToken}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setWebshopItemz(data);\n      });\n    console.log(\"webshopitems updated\");\n  }, []);\n\n  return { webshopItemz };\n};\n\nexport default useFetch;\n"]},"metadata":{},"sourceType":"module"}